 {% extends 'base/base.html' %}
  {% block content %}
  {% load static %}
<section id="center" class="center_home">
  <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
          {% for movie in random_movies %}
          <div class="carousel-item {% if forloop.first %}active{% endif %}">
              <img src="{% static movie.poster_url %}" class="d-block w-100" alt="...">
              <div class="carousel-caption d-md-block">
                  <h1 class="font_60"> {{ movie.movie_name }}</h1>
                  <h6 class="mt-3">
                      <span class="col_red me-3">
                          {% for _ in movie.imdb_rating|floatformat %}
                          <i class="fa fa-star"></i>
                          {% endfor %}
                      </span>
                      {{ movie.imdb_rating }} (Imdb)      Year : 2023
                  </h6>
                  <p class="mt-3">{{ movie.description }}</p>
                  <p class="mb-2"><span class="col_red me-1 fw-bold">Genres:</span> {{ movie.genres }}</p>
                  <h6 class="mt-4 mb-0"><a class="button" href="#"><i class="fa fa-play-circle align-middle me-1"></i> Watch For Free</a></h6>
              </div>
          </div>
      {% endfor %}
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
<style>
	.col_ {
            height: 50px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-height: 1.5em; 
	}
	</style>
</section>


<section id="trend" class="pt-4 pb-5">
	<div class="container">
	  <div class="row trend_1">
		<div class="col-md-6 col-6">
		  <div class="trend_1l">
			<h4 class="mb-0"><i class="fa fa-youtube-play align-middle col_red me-1"></i> Trending <span class="col_red">Movies</span></h4>
		  </div>
		</div>
		<div class="col-md-6 col-6">
		  <div class="trend_1r text-end">
			<h6 class="mb-0"><a class="button" href="{% url 'trending_movies' %}">View All</a></h6>
		  </div>
		</div>
	  </div>
	  <div class="row trend_2 mt-4">
		<div id="carouselExampleCaptions1" class="carousel slide" data-bs-ride="carousel">
		  <div class="carousel-indicators">
		  </div>
		  <div class="carousel-inner">
			{% for movie in random_trending_movies %}
			<div class="carousel-item {% if forloop.first %}active{% endif %}">
			  <div class="trend_2i row">
				{% for movie in random_trending_movies %}
				<div class="col-md-3 col-6">
				  <div class="trend_2im clearfix position-relative">
					<div class="trend_2im1 clearfix">
					  <div class="grid">
						<figure class="effect-jazz mb-0">
						  <a href="{% url 'movie_details' movie.movie_id %}"><img src="{% static movie.poster_url %}" class="w-100" alt="img25"></a>
						</figure>
					  </div>
					</div>
					<div class="trend_2im2 clearfix text-center position-absolute w-100 top-0">
					</div>
				  </div>
				  <div class="trend_2ilast bg_grey p-3 clearfix">
					<h5><a class="col_" href="{% url 'movie_details' movie.movie_id %}">{{ movie.movie_name }}</a></h5>
					<span class="col_red">
					  {% for _ in movie.imdb_rating|floatformat %}
					  <i class="fa fa-star"></i>
					  {% endfor %}
					</span>
					<br>
					<span class="col_light">
					  {{ movie.imdb_rating }} (Imdb)
					</span>
				  </div>
				</div>
				{% endfor %}
			  </div>
			</div>
			{% endfor %}
		  </div>
		</div>
	  </div>
	</div>
  </section>
  <style>
    .mb-0.footer-menu li {
      display: inline-block;
    }

    .mb-0.footer-menu li:not(:last-child):after {
      content: " - ";
    }
  </style>

{% endblock %}